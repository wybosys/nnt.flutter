!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){var n,o,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});!function(t){!function(t){var e=function(){};t.JsObject=e;var n=0,o=function(){function t(t,e,n){this.objectId=t,this.action=e,this.params=n}return t.prototype.serialize=function(){var t=JSON.stringify({o:this.objectId,i:this.id,a:this.action,p:this.params?this.params:{}});return"nf20w://"+(t=encodeURI(t))},t.prototype.unserialize=function(t){t=t.substr("nf20w".length+3),t=decodeURI(t);var e=JSON.parse(t);this.objectId=e.o,this.id=e.i,this.action=e.a,this.params=e.p},t}();t.Message=o,function(t){t[t.UNKNOWN=-1e3]="UNKNOWN",t[t.EXCEPTION=-999]="EXCEPTION",t[t.ROUTER_NOT_FOUND=-998]="ROUTER_NOT_FOUND",t[t.CONTEXT_LOST=-997]="CONTEXT_LOST",t[t.MODEL_ERROR=-996]="MODEL_ERROR",t[t.PARAMETER_NOT_MATCH=-995]="PARAMETER_NOT_MATCH",t[t.NEED_AUTH=-994]="NEED_AUTH",t[t.TYPE_MISMATCH=-993]="TYPE_MISMATCH",t[t.FILESYSTEM_FAILED=-992]="FILESYSTEM_FAILED",t[t.FILE_NOT_FOUND=-991]="FILE_NOT_FOUND",t[t.ARCHITECT_DISMATCH=-990]="ARCHITECT_DISMATCH",t[t.SERVER_NOT_FOUND=-989]="SERVER_NOT_FOUND",t[t.LENGTH_OVERFLOW=-988]="LENGTH_OVERFLOW",t[t.TARGET_NOT_FOUND=-987]="TARGET_NOT_FOUND",t[t.PERMISSIO_FAILED=-986]="PERMISSIO_FAILED",t[t.WAIT_IMPLEMENTION=-985]="WAIT_IMPLEMENTION",t[t.ACTION_NOT_FOUND=-984]="ACTION_NOT_FOUND",t[t.TARGET_EXISTS=-983]="TARGET_EXISTS",t[t.STATE_FAILED=-982]="STATE_FAILED",t[t.UPLOAD_FAILED=-981]="UPLOAD_FAILED",t[t.MASK_WORD=-980]="MASK_WORD",t[t.SELF_ACTION=-979]="SELF_ACTION",t[t.PASS_FAILED=-978]="PASS_FAILED",t[t.OVERFLOW=-977]="OVERFLOW",t[t.AUTH_EXPIRED=-976]="AUTH_EXPIRED",t[t.SIGNATURE_ERROR=-975]="SIGNATURE_ERROR",t[t.FORMAT_ERROR=-974]="FORMAT_ERROR",t[t.CONFIG_ERROR=-973]="CONFIG_ERROR",t[t.PRIVILEGE_ERROR=-972]="PRIVILEGE_ERROR",t[t.LIMIT=-971]="LIMIT",t[t.PAGED_OVERFLOW=-970]="PAGED_OVERFLOW",t[t.NEED_ITEMS=-969]="NEED_ITEMS",t[t.IM_CHECK_FAILED=-899]="IM_CHECK_FAILED",t[t.IM_NO_RELEATION=-898]="IM_NO_RELEATION",t[t.SOCK_WRONG_PORTOCOL=-860]="SOCK_WRONG_PORTOCOL",t[t.SOCK_AUTH_TIMEOUT=-859]="SOCK_AUTH_TIMEOUT",t[t.SOCK_SERVER_CLOSED=-858]="SOCK_SERVER_CLOSED",t[t.THIRD_FAILED=-5]="THIRD_FAILED",t[t.MULTIDEVICE=-4]="MULTIDEVICE",t[t.HFDENY=-3]="HFDENY",t[t.TIMEOUT=-2]="TIMEOUT",t[t.FAILED=-1]="FAILED",t[t.OK=0]="OK"}(t.STATUS||(t.STATUS={}));var i={},c=function(){function t(){this._waitings={}}return t.prototype.addJsObj=function(t){t.objectId?i[t.objectId]=t:alert("添加没有从JsObject继承的对象")},t.prototype.fromApp=function(t){if(0==t.indexOf("nf20w")){var e=new o(0,null);e.unserialize(t);var n=i[e.objectId];n?n[e.action]?n[e.action](e.params):alert("找不到动作 "+e.action):alert("找不到对象 "+e.objectId)}else alert("收到了不支持的数据 "+t)},t.prototype.toApp=function(t){var e=this;t.id=++n;var o=t.serialize(),r=new s(function(n,o){e._waitings[t.id]={resolve:n,reject:o}});return location.href=o,r},t.prototype.result=function(t){var e=new o(0,null);e.unserialize(t);var n=this._waitings[e.id];if(n){delete this._waitings[e.id];var r=e.params;r.ok?n.resolve(r.ok):n.reject(new E(r.err.code,r.err.msg))}else console.log("没有找到数据回调")},t}(),E=function(){function t(t,e){this.code=t,this.msg=e}return t.prototype.toString=function(){return"code: "+this.code+" msg: "+this.msg},t}();t.CodeError=E,t.jsb=new c;var s=function(){function t(t){var e=this;this._thens=[],this._catchs=[],this._executor=t,setTimeout(function(){e._do()},0)}return t.prototype.then=function(t){return this._thens.push(t),this},t.prototype.catch=function(t){return this._catchs.push(t),this},t.prototype._do=function(){var t=this;try{this._executor(function(e){t._thens.forEach(function(t){t(e)})},function(e){if(!t._catchs.length)throw e;t._catchs.forEach(function(t){try{t(e)}catch(t){console.warn(t)}})})}catch(t){if(!this._catchs.length)throw t;this._catchs.forEach(function(e){try{e(t)}catch(t){console.warn(t)}})}},t}();t.Promise=s;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.test=function(){return!1},e}(e);function u(t,e){return void 0===e&&(e=!0),new s(function(n){var o=document.createElement("script");if("async"in o?o.async=e:e=!1,o.src=t,e){var r=function(){this.removeEventListener("load",r,!1),this.removeEventListener("error",i,!1),n(!0)},i=function(){this.removeEventListener("load",r,!1),this.removeEventListener("error",i,!1),n(!1)};o.addEventListener("load",r,!1),o.addEventListener("error",i,!1)}document.body.appendChild(o),e||n(!0)})}t._JsObject=_,t.LoadStyle=function(t){return new s(function(e){var n=document.createElement("link");n.rel="stylesheet",n.href=t,document.body.appendChild(n),e(!0)})},t.LoadScript=u,t.OpenInstrument=function(){console.log("打开调试面板"),u("https://cdn.bootcss.com/vConsole/3.3.2/vconsole.min.js").then(function(){new VConsole})}}(t.flutter||(t.flutter={}))}(o||(o={}))}]);