{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/embeded/main.ts"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,gEAAgE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA,iBAAiB;AACjB;AACA,0BAA0B,OAAO,KAAK,IAAI;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iDAAiD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,IAAI;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA,mCAAmC,WAAW;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,UAAU,QAAQ,SAAS;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK,4CAA4C;AACjD,CAAC,kBAAkB;AACnB","file":"embeded.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/embeded/main.ts\");\n","var nnt;\n(function (nnt) {\n    var flutter;\n    (function (flutter) {\n        const SCHEME = 'nf20w';\n        class JsObject {\n        }\n        flutter.JsObject = JsObject;\n        let MessageMode;\n        (function (MessageMode) {\n            MessageMode[MessageMode[\"EMPTY\"] = 0] = \"EMPTY\";\n            MessageMode[MessageMode[\"EVAL\"] = 1] = \"EVAL\";\n            MessageMode[MessageMode[\"VAR\"] = 2] = \"VAR\";\n        })(MessageMode = flutter.MessageMode || (flutter.MessageMode = {}));\n        let _msgid = 0;\n        class Message {\n            constructor(objid, action, params) {\n                this.mode = MessageMode.EMPTY;\n                this.objectId = objid;\n                this.action = action;\n                this.params = params;\n            }\n            serialize() {\n                let raw = JSON.stringify({\n                    o: this.objectId,\n                    i: this.id,\n                    a: this.action,\n                    p: this.params ? this.params : {},\n                    m: this.mode\n                });\n                raw = encodeURI(raw);\n                return `${SCHEME}://${raw}`;\n            }\n            unserialize(raw) {\n                raw = raw.substr(SCHEME.length + 3);\n                raw = decodeURI(raw);\n                var obj = JSON.parse(raw);\n                this.objectId = obj.o;\n                this.id = obj.i;\n                this.action = obj.a;\n                this.params = obj.p;\n                this.mode = obj.m;\n            }\n            apply(ok) {\n                if (this.mode == MessageMode.EMPTY) {\n                    return ok;\n                }\n                if (this.mode == MessageMode.EVAL) {\n                    return eval(ok);\n                }\n                if (this.mode == MessageMode.VAR) {\n                    return ValueByKeyPath(window, ok);\n                }\n                return ok;\n            }\n        }\n        flutter.Message = Message;\n        let STATUS;\n        (function (STATUS) {\n            STATUS[STATUS[\"UNKNOWN\"] = -1000] = \"UNKNOWN\";\n            STATUS[STATUS[\"EXCEPTION\"] = -999] = \"EXCEPTION\";\n            STATUS[STATUS[\"ROUTER_NOT_FOUND\"] = -998] = \"ROUTER_NOT_FOUND\";\n            STATUS[STATUS[\"CONTEXT_LOST\"] = -997] = \"CONTEXT_LOST\";\n            STATUS[STATUS[\"MODEL_ERROR\"] = -996] = \"MODEL_ERROR\";\n            STATUS[STATUS[\"PARAMETER_NOT_MATCH\"] = -995] = \"PARAMETER_NOT_MATCH\";\n            STATUS[STATUS[\"NEED_AUTH\"] = -994] = \"NEED_AUTH\";\n            STATUS[STATUS[\"TYPE_MISMATCH\"] = -993] = \"TYPE_MISMATCH\";\n            STATUS[STATUS[\"FILESYSTEM_FAILED\"] = -992] = \"FILESYSTEM_FAILED\";\n            STATUS[STATUS[\"FILE_NOT_FOUND\"] = -991] = \"FILE_NOT_FOUND\";\n            STATUS[STATUS[\"ARCHITECT_DISMATCH\"] = -990] = \"ARCHITECT_DISMATCH\";\n            STATUS[STATUS[\"SERVER_NOT_FOUND\"] = -989] = \"SERVER_NOT_FOUND\";\n            STATUS[STATUS[\"LENGTH_OVERFLOW\"] = -988] = \"LENGTH_OVERFLOW\";\n            STATUS[STATUS[\"TARGET_NOT_FOUND\"] = -987] = \"TARGET_NOT_FOUND\";\n            STATUS[STATUS[\"PERMISSIO_FAILED\"] = -986] = \"PERMISSIO_FAILED\";\n            STATUS[STATUS[\"WAIT_IMPLEMENTION\"] = -985] = \"WAIT_IMPLEMENTION\";\n            STATUS[STATUS[\"ACTION_NOT_FOUND\"] = -984] = \"ACTION_NOT_FOUND\";\n            STATUS[STATUS[\"TARGET_EXISTS\"] = -983] = \"TARGET_EXISTS\";\n            STATUS[STATUS[\"STATE_FAILED\"] = -982] = \"STATE_FAILED\";\n            STATUS[STATUS[\"UPLOAD_FAILED\"] = -981] = \"UPLOAD_FAILED\";\n            STATUS[STATUS[\"MASK_WORD\"] = -980] = \"MASK_WORD\";\n            STATUS[STATUS[\"SELF_ACTION\"] = -979] = \"SELF_ACTION\";\n            STATUS[STATUS[\"PASS_FAILED\"] = -978] = \"PASS_FAILED\";\n            STATUS[STATUS[\"OVERFLOW\"] = -977] = \"OVERFLOW\";\n            STATUS[STATUS[\"AUTH_EXPIRED\"] = -976] = \"AUTH_EXPIRED\";\n            STATUS[STATUS[\"SIGNATURE_ERROR\"] = -975] = \"SIGNATURE_ERROR\";\n            STATUS[STATUS[\"FORMAT_ERROR\"] = -974] = \"FORMAT_ERROR\";\n            STATUS[STATUS[\"CONFIG_ERROR\"] = -973] = \"CONFIG_ERROR\";\n            STATUS[STATUS[\"PRIVILEGE_ERROR\"] = -972] = \"PRIVILEGE_ERROR\";\n            STATUS[STATUS[\"LIMIT\"] = -971] = \"LIMIT\";\n            STATUS[STATUS[\"PAGED_OVERFLOW\"] = -970] = \"PAGED_OVERFLOW\";\n            STATUS[STATUS[\"NEED_ITEMS\"] = -969] = \"NEED_ITEMS\";\n            STATUS[STATUS[\"IM_CHECK_FAILED\"] = -899] = \"IM_CHECK_FAILED\";\n            STATUS[STATUS[\"IM_NO_RELEATION\"] = -898] = \"IM_NO_RELEATION\";\n            STATUS[STATUS[\"SOCK_WRONG_PORTOCOL\"] = -860] = \"SOCK_WRONG_PORTOCOL\";\n            STATUS[STATUS[\"SOCK_AUTH_TIMEOUT\"] = -859] = \"SOCK_AUTH_TIMEOUT\";\n            STATUS[STATUS[\"SOCK_SERVER_CLOSED\"] = -858] = \"SOCK_SERVER_CLOSED\";\n            STATUS[STATUS[\"THIRD_FAILED\"] = -5] = \"THIRD_FAILED\";\n            STATUS[STATUS[\"MULTIDEVICE\"] = -4] = \"MULTIDEVICE\";\n            STATUS[STATUS[\"HFDENY\"] = -3] = \"HFDENY\";\n            STATUS[STATUS[\"TIMEOUT\"] = -2] = \"TIMEOUT\";\n            STATUS[STATUS[\"FAILED\"] = -1] = \"FAILED\";\n            STATUS[STATUS[\"OK\"] = 0] = \"OK\";\n        })(STATUS = flutter.STATUS || (flutter.STATUS = {}));\n        let _objects = {};\n        class _JsBridge {\n            constructor() {\n                this._waitings = {};\n            }\n            addJsObj(obj) {\n                if (!obj.objectId) {\n                    alert('添加没有从JsObject继承的对象');\n                    return;\n                }\n                _objects[obj.objectId] = obj;\n            }\n            removeJsObj(obj) {\n                delete _objects[obj.objectId];\n            }\n            fromApp(raw) {\n                if (raw.indexOf(SCHEME) != 0) {\n                    alert(`收到了不支持的数据 ${raw}`);\n                    return;\n                }\n                let msg = new Message(0, null);\n                msg.unserialize(raw);\n                let obj = _objects[msg.objectId];\n                if (!obj) {\n                    alert(`找不到对象 ${msg.objectId}`);\n                    return;\n                }\n                if (!obj[msg.action]) {\n                    alert(`找不到动作 ${msg.action}`);\n                    return;\n                }\n                obj[msg.action](msg.params);\n            }\n            toApp(msg) {\n                msg.id = ++_msgid;\n                let raw = msg.serialize();\n                let pm = new Promise((resolve, reject) => {\n                    this._waitings[msg.id] = { resolve, reject };\n                });\n                location.href = raw;\n                return pm;\n            }\n            result(raw) {\n                let msg = new Message(0, null);\n                msg.unserialize(raw);\n                let s = this._waitings[msg.id];\n                if (s) {\n                    delete this._waitings[msg.id];\n                    let p = msg.params;\n                    if (p.ok) {\n                        s.resolve(msg.apply(p.ok));\n                    }\n                    else {\n                        s.reject(new CodeError(p.err.code, p.err.msg));\n                    }\n                }\n                else {\n                    console.log('没有找到数据回调');\n                }\n            }\n        }\n        class CodeError {\n            constructor(code, msg) {\n                this.code = code;\n                this.msg = msg;\n            }\n            toString() {\n                return `code: ${this.code} msg: ${this.msg}`;\n            }\n        }\n        flutter.CodeError = CodeError;\n        flutter.jsb = new _JsBridge();\n        class _JsObject extends JsObject {\n            test() {\n                return false;\n            }\n        }\n        flutter._JsObject = _JsObject;\n        function LoadStyle(src) {\n            return new Promise(resolve => {\n                let s = document.createElement('link');\n                s.rel = 'stylesheet';\n                s.href = src;\n                document.body.appendChild(s);\n                resolve(true);\n            });\n        }\n        flutter.LoadStyle = LoadStyle;\n        function LoadScript(src, async = true) {\n            return new Promise(resolve => {\n                let s = document.createElement('script');\n                if ('async' in s) {\n                    s.async = async;\n                }\n                else {\n                    async = false;\n                }\n                s.src = src;\n                if (async) {\n                    let suc = function () {\n                        this.removeEventListener('load', suc, false);\n                        this.removeEventListener('error', err, false);\n                        resolve(true);\n                    };\n                    let err = function () {\n                        this.removeEventListener('load', suc, false);\n                        this.removeEventListener('error', err, false);\n                        resolve(false);\n                    };\n                    s.addEventListener('load', suc, false);\n                    s.addEventListener('error', err, false);\n                }\n                document.body.appendChild(s);\n                if (!async)\n                    resolve(true);\n            });\n        }\n        flutter.LoadScript = LoadScript;\n        function ValueByKeyPath(obj, kp) {\n            let s = kp.split(',');\n            s.forEach(e => {\n                obj = obj[e];\n            });\n            return obj;\n        }\n        flutter.ValueByKeyPath = ValueByKeyPath;\n        function OpenInstrument() {\n            console.log('打开调试面板');\n            LoadScript('https://cdn.bootcss.com/vConsole/3.3.2/vconsole.min.js').then(() => {\n                new VConsole();\n            });\n        }\n        flutter.OpenInstrument = OpenInstrument;\n        flutter.tmp = {};\n    })(flutter = nnt.flutter || (nnt.flutter = {}));\n})(nnt || (nnt = {}));\nwindow['nnt'] = nnt;\n"],"sourceRoot":""}